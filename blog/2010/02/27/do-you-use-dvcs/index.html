<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <title>分散バージョン管理(DVCS)ってどう? - tcha.org</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link rel="stylesheet" type="text/css" href="/assets/style.css" media="screen">
        <link rel="alternate" type="application/atom+xml" title="tcha.org Blog" href="/blog.atom">
        <meta name="generator" content="nanoc 3.1.0">
    </head>
    <body>
        <div id="sitenav">
            <a href="/blog/">Blog</a>
            | <a href="/about/">About</a>
        </div>
        <div id="main">
            
            <div id="breadcrumbs"><a href="/">tcha.org</a> » <a href="/blog/">Blog</a> »</div>
            

            
<h1>分散バージョン管理(DVCS)ってどう?</h1>




<address class="head">
    2010 年 2 月 27 日
    <a href="http://b.hatena.ne.jp/append?http://tcha.org/blog/2010/02/27/do-you-use-dvcs/"><img src="http://b.hatena.ne.jp/images/append.gif" width="16" height="12" alt="はてなブックマークへ追加" title="はてなブックマークへ追加"></a>
<a href="http://b.hatena.ne.jp/entry/http://tcha.org/blog/2010/02/27/do-you-use-dvcs/"><img src="http://b.hatena.ne.jp/entry/image/http://tcha.org/blog/2010/02/27/do-you-use-dvcs/" alt="はてなブックマーク - 分散バージョン管理(DVCS)ってどう?" title="はてなブックマーク - 分散バージョン管理(DVCS)ってどう?"></a>

    <a href="http://delicious.com/save" onclick="window.open('http://delicious.com/save?v=5&noui&jump=close&url='+encodeURIComponent('http://tcha.org/blog/2010/02/27/do-you-use-dvcs/')+'&title='+encodeURIComponent('分散バージョン管理(DVCS)ってどう?'),'delicious', 'toolbar=no,width=550,height=550'); return false;"><img src="http://static.delicious.com/img/delicious.small.gif" height="10" width="10" alt="Bookmark this on Delicious" title="Bookmark this on Delicious"></a>

</address>



            <p><a href="http://stackoverflow.com/questions/26845/do-you-use-distributed-version-control/27033#27033">Do you use distributed version control? - Stack Overflow</a>
より。 Subversion との対比。</p>

<blockquote><p>ボクが分かる範囲で利点はこれ:</p>

<ol>
<li><p><strong>ローカルバージョン管理。</strong>
何か作業をしてて、その履歴を残したいんだけど中央リポジトリへ突っ込むレベルに無い、
ということが時々あるよね。 分散型 VCS だと、
それができ上がるまでは自分のローカルリポジトリにコミットするだけでいいんだ。ブランチを作らずにね。
その途中で、ボクに必要な修正を他の誰かがやってくれたなら、
それを自分のコードに取り込むなんてこともできる。 全部できたら、サーバーに突っ込んで(push して)終わりだ。</p></li>
<li><p><strong>マージが衝突しづらい。</strong>
全く無いわけじゃないけど、衝突はあまり起こらないし、大したリスクじゃない。
コードは全て自分のローカルリポジトリへチェックインしてるから、
例えマージをしくったとしても、すぐに元に戻してやり直せるんだ。</p></li>
<li><p><strong>ブランチとして別々のリポジトリを。</strong>
開発のベクトルが何方向かに向いて同時進行してるような場合、
リポジトリの clone をいくつか用意するだけで、各機能を分けて開発することができる。
この方法だと、どれかがポシャったりつまづいたりした場合に、そいつを取り除く必要はない。
時が来たらそいつらをマージするだけだ。</p></li>
<li><p><strong>スピード。</strong>
Mercurial はキビキビと動く。
よく使う操作のほとんどがローカルだからだろう。</p></li>
</ol>
</blockquote>

<p><strong>2. マージが衝突しづらい -- について:</strong></p>

<p>Subversion は <code>svn update</code> を強要する。
これは履歴に残らない(つまり、取り返しがつかない)マージだ。</p>

<p><strong>3. ブランチとして別々のリポジトリを -- について:</strong></p>

<p>混ざっちゃった物を切り分けるより、分かれてる物を混ぜたほうがずっと簡単だ。
塩を入れすぎたからって、砂糖では打ち消せないよね。</p>

<p><strong>4. スピード -- について:</strong></p>

<p>Subversion は、ローカルリポジトリが相手でも異様に遅い。オーダーが 2～3 桁ぐらい違う。
フル C の Subversion よりも、ほとんど Python の Mercurial の方が速いってのは結構おもしろいよね。
「繰り返し実行されるのはコードの約 5%」と誰かが言っていたけれど、
そこをピンポイントで最適化してるのが Mercurial だ(と思う)。</p>

<p>まずい設計がいかに凶悪かが分かるんじゃないかな。</p>

            

            
            <div id="comments">
                <h2>コメント</h2>
                <div id="disqus_thread"></div>
                <script type="text/javascript" src="http://disqus.com/forums/tchaorg/embed.js"></script>
                <noscript>
                    <a href="http://disqus.com/forums/tchaorg/?url=ref">View the discussion thread.</a>
                </noscript>
                <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
            
        </div>

        <script type="text/javascript"><!--
            (function() {
                var links = document.getElementsByTagName('a');
                var query = '?';
                for(var i = 0; i < links.length; i++) {
                    if(links[i].href.indexOf('#disqus_thread') >= 0) {
                        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
                    }
                }
                document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/tchaorg/get_num_replies.js' + query + '"></' + 'script>');
            })();
        // --></script>
    </body>
</html>
